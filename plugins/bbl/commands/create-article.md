---
description: アウトラインに基づいて記事を作成
allowed-tools: Read, Write, Edit, Glob, Grep
---

# 記事作成

ブレインストーミングで作成したアウトラインに基づいて、記事を作成します。

## 前提条件

- `/bbl:brainstorm` でアウトラインが作成済みであること
- `.bbl-context.yml` が存在すること

## 手順

### 1. コンテキストの読み込み

`.bbl-context.yml` を読み込み、以下を確認：

- 概念名
- カテゴリ・サブカテゴリ
- アウトライン
- 出力先パス

**エラーハンドリング**:

- ファイルが存在しない場合: 「`.bbl-context.yml`が見つかりません。先に `/bbl:brainstorm [概念名]` を実行してください。」
- `phase`が`outline_created`でない場合: 現在のphaseを表示し、適切なコマンドを案内
- 必須フィールド（concept, category, subcategory, outline, file_path）が欠けている場合: 欠けているフィールドを明示し、`/bbl:brainstorm`の再実行を促す

### 2. 出力先ディレクトリの確認

`file_path` で指定されたディレクトリが存在するか確認。存在しない場合は作成を提案。

### 3. 記事の執筆

`content-writer` エージェントを呼び出し、以下の7セクション構成で記事を作成：

1. **導入問題**: 実務シナリオベースの問題
2. **考えるポイント**: 問題を分析する観点
3. **解説**: 概念の基本説明
4. **詳細**: 理論的背景とMermaid図
5. **具体例**: 実在企業の事例
6. **関連概念**: 他概念へのリンク
7. **参考文献**: 信頼性の高いソース

### 4. 記事の保存

作成した記事を `file_path` に保存。

### 5. コンテキストの更新

`.bbl-context.yml` の `phase` を `article_created` に更新：

```yaml
phase: article_created
updated: [現在時刻]
```

### 6. 次のステップの案内

記事作成完了後、以下を案内：

```
記事が作成されました: [file_path]

次のステップ:
  /bbl:review-article を実行して品質チェックを行ってください。
```

## 品質基準

作成する記事は以下の基準を満たすこと：

- 7セクションすべてが含まれている
- 導入問題が実務シナリオベースになっている
- Mermaid図が1つ以上含まれている
- 具体例に実在の企業事例がある
- 参考文献が3つ以上ある
- 専門用語には説明が添えられている
