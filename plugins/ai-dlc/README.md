# AI-DLC Plugin

AI駆動開発ライフサイクル（AI-DLC）のスラッシュコマンド、サブエージェント、スキルを提供するプラグインです。

## 概要

AI-DLCは、Amazon Web ServicesのRaja SP氏が提唱するAIネイティブな開発方法論です。従来のSDLCやアジャイル手法にAIを後付けするのではなく、AIを中心に据えた開発ライフサイクルを再構築することを目指しています。

## 独自の工夫（ホワイトペーパーからの拡張）

本プラグインは、[AI-DLCホワイトペーパー](https://prod.d13rzhkk8cj2z0.amplifyapp.com/)に基本的に準拠しつつ、以下の独自の工夫を加えています。

### 1. コマンドのフェーズ別ディレクトリ構造

ホワイトペーパーのコマンドをフェーズ別に整理し、コマンド名を `ai-dlc:<phase>:<command>` 形式にしています。

**理由**: AI-DLCの3フェーズ（インセプション、コンストラクション、オペレーション）を明示的に表現し、ユーザーが今どのフェーズで作業しているかを意識しやすくするため。

### 2. 複数ボルト対応

ホワイトペーパーでは「1つのユニットを1つ以上のボルトで実行」と記載されていますが、具体的な実装方法は示されていません。本プラグインでは、ボルトごとにディレクトリを分けて管理します。

**ディレクトリ命名規則**: `aidlc-docs/YYYYMMDD_<bolt-name>/` 形式

- 例: `aidlc-docs/20251230_user-auth/`, `aidlc-docs/20251231_payment/`

### 3. グリーンフィールド/ブラウンフィールド対応

`/ai-dlc:setup` 時に開発タイプを選択し、後続コマンドの挙動を自動的に切り替えます。

- **グリーンフィールド**: 新規アプリケーション開発。標準フローでドメインモデル設計から開始。
- **ブラウンフィールド**: 既存システムへの機能追加・改修。コンストラクションフェーズで先に既存コードのエレベーション（静的/動的モデル作成）を実施。

### 4. セッション状態管理

ボルトディレクトリ内に `current.yml` ファイルを作成し、現在のセッション状態を追跡します。
詳細は [docs/session-management.md](docs/session-management.md) を参照。

`/ai-dlc:guide:current` コマンドで現在のステップと次に実行すべきコマンドを確認できます。

### 5. 設計技法の統合（DDD/BDD/TDD）（対応予定）

ホワイトペーパーでは「DDD/BDD/TDDの異なるフレーバー」に言及しています。本プラグインではこれらを**排他的な選択肢ではなく、各フェーズで組み合わせて活用**する方針です。

| 技法 | 適用フェーズ | 活用方法 | 実装状況 |
|------|-------------|----------|----------|
| **BDD** | インセプション | 受け入れ基準をGiven/When/Then形式で明確化 | 対応予定 |
| **DDD** | コンストラクション | ドメインモデルで設計の骨格を構築 | 実装済み |
| **TDD** | コンストラクション | テストファーストで実装を進行 | 対応予定 |

## インストール

```bash
claude plugins install ai-dlc
```

## 使い方

### スラッシュコマンド

| コマンド | 説明 | 対応フェーズ |
|---------|------|-------------|
| `/ai-dlc:setup` | AI-DLCセッションの初期化（ボルトディレクトリ作成、グリーン/ブラウン選択） | 共通 |
| `/ai-dlc:guide:current` | 現在のステップと次のアクションを表示 | 共通 |
| `/ai-dlc:inception:user-stories` | ユーザーストーリー作成 | インセプション |
| `/ai-dlc:inception:units` | ユニット分解 | インセプション |
| `/ai-dlc:construction:domain-model` | ドメインモデル作成 | コンストラクション |
| `/ai-dlc:construction:code-gen` | コード生成 | コンストラクション |
| `/ai-dlc:construction:architecture` | アーキテクチャ設計 | コンストラクション |
| `/ai-dlc:construction:api` | REST API作成 | コンストラクション |

### 基本的なワークフロー

```bash
# 1. ボルトのセットアップ（グリーンフィールド/ブラウンフィールド選択）
/ai-dlc:setup

# 2. 現在のステップを確認
/ai-dlc:guide:current

# 3. ユーザーストーリー作成（インセプションフェーズ）
/ai-dlc:inception:user-stories レコメンデーションエンジンを構築する

# 4. ユニット分解
/ai-dlc:inception:units

# 5. ドメインモデル作成（コンストラクションフェーズ）
# ブラウンフィールドの場合は自動的に既存コードのエレベーションを先に実施
/ai-dlc:construction:domain-model aidlc-docs/20251230_recommendation-engine

# 6. コード生成
/ai-dlc:construction:code-gen aidlc-docs/20251230_recommendation-engine
```

### サブエージェント

| エージェント | 役割 |
|-------------|------|
| `product-manager` | ユーザーストーリー作成、要件定義 |
| `software-architect` | ユニット分解、ドメインモデル設計 |
| `software-engineer` | コード生成、テスト作成 |
| `cloud-architect` | クラウドアーキテクチャ設計、デプロイ計画 |

### スキル

| スキル | 説明 |
|--------|------|
| `ai-dlc` | AI-DLCの概念、原則、ベストプラクティスを説明 |

## ドキュメント

| ファイル | 説明 |
|----------|------|
| [docs/session-management.md](docs/session-management.md) | セッション状態管理（current.yml）の詳細仕様 |
| [docs/whitepaper.md](docs/whitepaper.md) | AI-DLCホワイトペーパー原文（英語） |
| [docs/whitepaper-ja.md](docs/whitepaper-ja.md) | AI-DLCホワイトペーパー日本語訳 |

> **著作権について**
>
> `docs/whitepaper.md` および `docs/whitepaper-ja.md` は Amazon Web Services の Raja SP 氏による著作物（および翻訳）です。
> 本プラグインでは、AI-DLC方法論の実装における参考資料として保管しています。
> 原典: <https://prod.d13rzhkk8cj2z0.amplifyapp.com/>

## AI-DLCの主要概念

| 用語 | 説明 |
|------|------|
| インテント | 達成すべき高レベルの目的（ビジネスゴール、機能、技術的成果） |
| ユニット | インテントから派生した、凝集度の高い独立した作業単位（DDDのサブドメインやスクラムのエピックに相当） |
| ボルト | 最小の反復単位。時間〜日単位の高速なビルド・検証サイクル（スクラムのスプリントに相当） |

## AI-DLCのフェーズ

1. **インセプションフェーズ**: モブエラボレーションリチュアルを通じてインテントをユニットに分解
2. **コンストラクションフェーズ**: ドメイン設計→論理設計→コード生成→テストの反復
3. **オペレーションフェーズ**（今後実装）: デプロイ、監視、運用の自動化

### オペレーションフェーズの実装方針

オペレーションフェーズは現時点では未実装です。以下の理由により、インセプション・コンストラクションフェーズの成熟を優先しています。

#### 優先度を下げている理由

1. **既存フェーズの完成度向上が先決**
   - BDD/TDD対応がまだ未実装
   - コンストラクションフェーズの出力形式が安定していない段階でオペレーションフェーズを設計するのは困難

2. **Claude Codeプラグインのスコープとの整合性**
   - ホワイトペーパーのオペレーションフェーズは「テレメトリデータの分析」「インシデントランブックとの統合」「リソーススケーリングの実行」など、実際のクラウドリソースとの連携を前提としている
   - Claude Codeはコード生成・設計支援ツールであり、実際のクラウドリソース操作は本来のスコープ外

3. **実用的価値の明確化が必要**
   - IaCテンプレート生成なのか、運用ドキュメント生成なのか、MCPサーバー経由でのクラウド操作なのか、方針を明確にする必要がある

#### 将来の実装方針

オペレーションフェーズを実装する場合は、以下の方針を検討しています：

- **スコープの限定**: 「運用関連ドキュメント・設定ファイルの生成」に限定し、実際のクラウド操作はMCPサーバー等に委ねる
- **段階的な導入**: まず `/ai-dlc:operation:deploy`（デプロイ設定生成）のみを追加し、コンストラクションフェーズの延長として位置づける
- **前提条件**: インセプション・コンストラクションフェーズが十分にテストされてから着手

関連: [Issue #60](https://github.com/rfdnxbro/claude-code-marketplace/issues/60)

## 参考リンク

- [AI-DLC Whitepaper](https://prod.d13rzhkk8cj2z0.amplifyapp.com/)
